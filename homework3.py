group = {
    1024: {"fullname": "Грицаенко Евгений",  "email": "", "github": "https://github.com/ZhenyaGricaenko", "rank": 0},
    1025: {"fullname": "Гамов Олег",         "email": "", "github": "https://github.com/Aminazine", "rank": 0},
    1026: {"fullname": "Андреева Ольга",     "email": "", "github": "", "rank": 0},
    1027: {"fullname": "Алексеенко Наталия", "email": "", "github": "", "rank": 0},
    1028: {"fullname": "Петина Ольга",       "email": "", "github": "", "rank": 0},
    1029: {"fullname": "Балан Николай",      "email": "", "github": "https://github.com/Slipy901",  "rank": 0},
    1030: {"fullname": "Кривенко Максим",    "email": "", "github": "https://github.com/Maksym444", "rank": 0},
    1031: {"fullname": "Локтев Владимир",    "email": "", "github": "https://github.com/4oc3p",     "rank": 0},
    1032: {"fullname": "Сорокина Татьяна",   "email": "", "github": "", "rank": 0},
    1033: {"fullname": "Юрин Руслан",        "email": "", "github": "", "rank": 0},
    1034: {"fullname": "Румянцев Аркадий",   "email": "", "github": "", "rank": 0},
    1035: {"fullname": "Торбеев Алексей",    "email": "", "github": "", "rank": 0},
    1036: {"fullname": "Сташук Екатерина",   "email": "", "github": "", "rank": 0}
}

hw_results = [
    {"id": 1024, "task_completion": [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1] },
    {"id": 1025, "task_completion": [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,1,0,0,0,0,0] },
    {"id": 1026, "task_completion": [1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0] },
    {"id": 1027, "task_completion": [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0] },
    {"id": 1028, "task_completion": [1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0] },
    {"id": 1029, "task_completion": [1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] },
    {"id": 1030, "task_completion": [1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0] },
    {"id": 1031, "task_completion": [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1] },
    {"id": 1032, "task_completion": [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0] },
    {"id": 1033, "task_completion": [1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] },
    {"id": 1034, "task_completion": [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] },
    {"id": 1035, "task_completion": [1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] },
    {"id": 1036, "task_completion": [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] }
]


test1_results = [
    {"id": 1024, "task_completion": [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]},
    {"id": 1025, "task_completion": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
    {"id": 1026, "task_completion": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
    {"id": 1027, "task_completion": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
    {"id": 1028, "task_completion": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
    {"id": 1029, "task_completion": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
    {"id": 1030, "task_completion": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
    {"id": 1031, "task_completion": [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]},
    {"id": 1032, "task_completion": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
    {"id": 1033, "task_completion": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
    {"id": 1034, "task_completion": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
    {"id": 1035, "task_completion": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]},
    {"id": 1036, "task_completion": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}
]

test1_costs = {
    1 : 1,
    2 : 1,
    3 : 1,
    4 : 2,
    5 : 2,
    6 : 2,
    7 : 4,
    8 : 4,
    9 : 4,
    10 : 8,
    11 : 8,
    12 : 15
}

#print(group)


'''
Calculate student results and put it into the student dictionary under the key "rank"
Total rank is calculated as a sum of completed hw tasks +
    sum of completed Test1 tasks weighted proportional to its costs
    For example, student with id=1024 has total rank = 1*29 + (1*1 + 1*1 + 1*1 + ... 1*15) = 81)
:return: None
'''


def update_students_results():
    for hw_result in hw_results:
        group[hw_result.get('id')]['rank'] = sum(hw_result['task_completion'])

    for test1_result in test1_results:
        test1_sum = 0
        i = 1

        for res in test1_result['task_completion']:
            test1_sum += res * test1_costs[i]
            i += 1

        group[test1_result.get('id')]['rank'] += test1_sum

    #print(group)
update_students_results()

'''
Prints students info sorted according to the passed key in dictionary). By default, sort by students names
Student info should be presented as a card that includes the following information:
    - id,
    - name,
    - email,
    - github account (only name, not URL path)
    - rank
Example:
    -----------------------------------------
    : ID:                               1025:
    :.......................................:
    : Full name:                  Гамов Олег:
    : Email:             o.v.gamov@gmail.com:
    : Github:                      Aminazine:
    : Rank:                               23:
    -----------------------------------------
:return: None
'''
# def print_students_info(sort_by_key="fullname"):


def print_students_info(sort_by_key="fullname"):
    for key in (sorted(group, key=lambda key: group[key][sort_by_key])):
        github_web = group[key]["github"].split("/")
        print("------------------------------------")
        print(": ID:%29s" % key, ":")
        print("....................................")
        print(": Full name: %21s" % group[key]["fullname"], ":")
        print(": Email: %25s" % group[key]["email"],":")
        if group[key]["github"] != "":
            print(": Github: %24s" % github_web[3],":")
        else:
            print(": Github: %26s" % ":")
        print(": Rank: %26s" % group[key]["rank"],":")
        print("------------------------------------")


print_students_info()


